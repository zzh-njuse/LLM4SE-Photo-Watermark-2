# LLM4SE-Photo-Watermark 照片水印工具产品需求文档

## 1. 产品概述

本产品是一款照片水印工具，旨在帮助用户快速、便捷地为图片添加自定义水印，并支持批量处理功能。用户可以添加文本或图片水印，自定义水印的位置、大小、透明度等属性，并实时预览效果。

## 2. 功能需求

### 2.1 文件处理

#### 2.1.1 导入图片
- 支持单张图片拖拽导入
- 支持通过文件选择器导入单张图片
- 支持批量导入多张图片
- 支持直接导入整个文件夹
- 在界面上显示已导入图片的列表（包含缩略图和文件名）

#### 2.1.2 支持格式
- **输入格式**：必须支持 JPEG、PNG（含透明通道）；建议支持 BMP、TIFF
- **输出格式**：用户可选择输出为 JPEG 或 PNG

#### 2.1.3 导出图片
- 用户可指定输出文件夹，默认禁止导出到原文件夹
- 提供导出文件命名规则选项：
  - 保留原文件名
  - 添加自定义前缀（如 wm_）
  - 添加自定义后缀（如 _watermarked）
- 对于 JPEG 格式，提供图片质量（压缩率）调节滑块（0-100）【可选高级功能】
- 导出时允许用户调整图片尺寸（如按宽度、高度或百分比缩放）【可选高级功能】

### 2.2 水印类型

#### 2.2.1 文本水印
- **内容**：用户可自定义输入任意文本
- **字体**：可选择系统已安装的字体、字号、粗体、斜体【可选高级功能】
- **颜色**：提供调色板让用户选择字体颜色【可选高级功能】
- **透明度**：可调节文本的透明度（0-100%）
- **样式**：可添加阴影或描边效果，以增强在复杂背景下的可读性【可选高级功能】

#### 2.2.2 图片水印【可选高级功能】
- 用户可从本地选择一张图片（如Logo）作为水印
- 必须支持带透明通道的 PNG 图片
- **缩放**：可按比例或自由调整图片水印的大小
- **透明度**：可调节图片水印的整体透明度（0-100%）

### 2.3 水印布局与样式

#### 2.3.1 实时预览
- 所有对水印的调整都应在主预览窗口中实时显示效果
- 用户可以点击图片列表切换预览不同的图片

#### 2.3.2 位置
- **预设位置**：提供九宫格布局（四角、正中心），用户可一键将水印放置在这些位置
- **手动拖拽**：用户可以直接在预览图上通过鼠标拖拽水印到任意位置

#### 2.3.3 旋转【可选高级功能】
- 提供一个滑块或输入框，允许用户以任意角度旋转水印

### 2.4 配置管理

#### 2.4.1 水印模板
- 用户可以将当前的水印设置（包括水印内容、字体、颜色、位置、大小、透明度等所有参数）保存为一个模板
- 用户可以加载、管理和删除已保存的模板
- 程序启动时可自动加载上一次关闭时的设置或一个默认模板

## 3. 技术需求

### 3.1 平台支持
- 开发Windows平台的可执行文件
- 确保程序可独立运行，无需安装额外依赖

### 3.2 性能要求
- 批量处理时应保持良好的响应速度
- 大图片处理时应避免内存溢出

### 3.3 兼容性要求
- 兼容主流Windows操作系统版本
- 支持处理不同分辨率和格式的图片

## 4. 用户界面设计

### 4.1 布局结构
- 左侧：图片列表区域（显示已导入图片的缩略图和文件名）
- 中央：图片预览区域（显示当前选中图片的实时预览效果）
- 右侧：水印设置面板（包含文本/图片水印设置、位置调整、样式设置等）
- 底部：操作按钮区域（导入、导出、保存模板、加载模板等）

### 4.2 交互设计
- 拖拽操作：支持拖拽图片到应用窗口进行导入，支持拖拽水印调整位置
- 实时反馈：所有设置更改应立即在预览窗口中显示效果
- 直观控制：使用滑块、下拉菜单、颜色选择器等直观控件

## 5. 发布要求

### 5.1 GitHub提交
- 在GitHub上保留尽可能多的、详细的提交记录
- 提供完整的源代码和项目文件

### 5.2 发布版本
- 提供可以直接下载运行的Windows可执行文件
- 在GitHub上创建一个release，确保该程序可运行
- 助教以最新的release为准进行验收

### 5.3 提交要求
- 提交GitHub网址在一个PDF文件中

## 6. 优先级说明

- **核心功能**：文件导入/导出、文本水印基本功能、实时预览、水印位置调整、模板管理
- **高级功能**：图片水印、字体/颜色设置、阴影/描边效果、旋转功能、图片质量调整、尺寸调整
- 高级功能请尽可能完成，不作为必须内容